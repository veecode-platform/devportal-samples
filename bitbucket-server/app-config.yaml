# Bitbucket Server overrides to bundled config

integrations:
  #
  # ABOUT bitbucketServer: decide which authentication method to use
  # PICK ONE: token, OR username/password
  #
  # token: HTTP access token (recommended)
  # username and password: basic authentication
  # no credentials: will only access public repositories
  #
  bitbucketServer:
    - host: ${BITBUCKET_SERVER_HOST}
      apiBaseUrl: ${BITBUCKET_SERVER_API_URL}
      # PICK ONE: token OR username/password
      # token: ${BITBUCKET_SERVER_TOKEN}
      # username: ${BITBUCKET_SERVER_USERNAME}
      # password: ${BITBUCKET_SERVER_PASSWORD}

catalog:
  providers:
    bitbucketServer:
      bitbucketServerDemo: # identifies your ingested dataset
        host: ${BITBUCKET_SERVER_HOST}
        catalogPath: /catalog-info.yaml # default value
        # filters: # optional
        #   projectKey: '^apis-.*$' # optional; RegExp
        #   repoSlug: '^service-.*$' # optional; RegExp
        schedule: # same options as in SchedulerServiceTaskScheduleDefinition
          # supports cron, ISO duration, "human duration" as used in code
          frequency: { minutes: 30 }
          # supports ISO duration, "human duration" as used in code
          timeout: { minutes: 3 }

  # you can also explicitly import a repository
  # locations:
  #   - type: url
  #     target: https://bitbucket.mycompany.com/projects/MYPROJECT/repos/my-repo/browse/catalog-info.yaml
